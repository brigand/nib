/*!
  ___                         _    _____  ___       ___                        _                    
|  _`\                      ( )_ (___  )(  _`\    (  _`\                     (_ )  _               
| (_) )   __     _ _    ___ | ,_)    | || (_(_)   | (_) )   _ _   ___    __   | | (_)  ___     __  
| ,  /  /'__`\ /'_` ) /'___)| |   _  | |`\__ \    |  _ <' /'_` )/',__) /'__`\ | | | |/' _ `\ /'__`\
| |\ \ (  ___/( (_| |( (___ | |_ ( )_| |( )_) |   | (_) )( (_| |\__, \(  ___/ | | | || ( ) |(  ___/
(_) (_)`\____)`\__,_)`\____)`\__)`\___/'`\____)   (____/'`\__,_)(____/`\____)(___)(_)(_) (_)`\____)
                                                                                                   
                                                                                                   
 
*/
require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";b.exports=function(b,c,d){function e(a,b,d){var e=c(a,f,d,b===!0&&a._isBound()?a._boundTo:void 0),g=e.promise();return g.isRejected()?g:(e.setHowMany(1),e.setUnwrap(),e.init(),g)}{var f=a("./some_promise_array.js")(d);a("./assert.js")}b.any=function(a){return e(a,!1,b.any)},b.prototype.any=function(){return e(this,!0,this.any)}}},{"./assert.js":2,"./some_promise_array.js":35}],2:[function(a,b){"use strict";b.exports=function(){var a=function(){function a(a){this.constructor$(a),this.message=a,this.name="AssertionError"}return a.prototype=new Error,a.prototype.constructor=a,a.prototype.constructor$=Error,a}();return function b(c,d){if(c!==!0){var e=new a(d);throw Error.captureStackTrace&&Error.captureStackTrace(e,b),console&&console.error&&console.error(e.stack+""),e}}}()},{}],3:[function(a,b){"use strict";function c(){this._isTickUsed=!1,this._length=0,this._lateBuffer=new e,this._functionBuffer=new e(75e3);var a=this;this.consumeFunctionBuffer=function(){a._consumeFunctionBuffer()}}var d=(a("./assert.js"),a("./schedule.js")),e=a("./queue.js"),f=a("./util.js").errorObj,g=a("./util.js").tryCatch1;c.prototype.haveItemsQueued=function(){return this._length>0},c.prototype.invokeLater=function(a,b,c){this._lateBuffer.push(a,b,c),this._queueTick()},c.prototype.invoke=function(a,b,c){var d=this._functionBuffer;d.push(a,b,c),this._length=d.length(),this._queueTick()},c.prototype._consumeFunctionBuffer=function(){for(var a=this._functionBuffer;a.length()>0;){var b=a.shift(),c=a.shift(),d=a.shift();b.call(c,d)}this._reset(),this._consumeLateBuffer()},c.prototype._consumeLateBuffer=function(){for(var a=this._lateBuffer;a.length()>0;){var b=a.shift(),c=a.shift(),d=a.shift(),e=g(b,c,d);if(e===f)throw this._queueTick(),e.e}},c.prototype._queueTick=function(){this._isTickUsed||(d(this.consumeFunctionBuffer),this._isTickUsed=!0)},c.prototype._reset=function(){this._isTickUsed=!1,this._length=0},b.exports=new c},{"./assert.js":2,"./queue.js":28,"./schedule.js":31,"./util.js":39}],4:[function(a,b){"use strict";var c=a("./promise.js")();b.exports=c},{"./promise.js":20}],5:[function(a,b){"use strict";b.exports=function(a){function b(a){var b="string"==typeof this?this:""+this;return a[b]}a.prototype.call=function(a){for(var b=arguments.length,c=new Array(b-1),d=1;b>d;++d)c[d-1]=arguments[d];return this._then(function(b){return b[a].apply(b,c)},void 0,void 0,void 0,void 0,this.call)},a.prototype.get=function(a){return this._then(b,void 0,void 0,a,void 0,this.get)}}},{}],6:[function(a,b){"use strict";b.exports=function(b,c){var d=a("./errors.js"),e=a("./async.js"),f=(a("./assert.js"),d.CancellationError),g={};b.prototype._cancel=function(){if(!this.isCancellable())return this;var a;if(void 0!==(a=this._cancellationParent))return void a.cancel(g);var b=new f;this._attachExtraTrace(b),this._rejectUnchecked(b)},b.prototype.cancel=function(a){return this.isCancellable()?a===g?(this._cancel(),this):(e.invokeLater(this._cancel,this,void 0),this):this},b.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},b.prototype.uncancellable=function(){var a=new b(c);return a._setTrace(this.uncancellable,this),a._follow(this),a._unsetCancellable(),this._isBound()&&a._setBoundTo(this._boundTo),a},b.prototype.fork=function(a,b,c){var d=this._then(a,b,c,void 0,void 0,this.fork);return d._setCancellable(),d._cancellationParent=void 0,d}}},{"./assert.js":2,"./async.js":3,"./errors.js":10}],7:[function(a,b){"use strict";b.exports=function(){function b(a){var b;if("function"==typeof a)b="[function "+(a.name||"anonymous")+"]";else{b=a.toString();var d=/\[object [a-zA-Z0-9$_]+\]/;if(d.test(b))try{var e=JSON.stringify(a);b=e}catch(f){}0===b.length&&(b="(empty array)")}return"(<"+c(b)+">, no stack trace)"}function c(a){var b=41;return a.length<b?a:a.substr(0,b-3)+"..."}function d(a,b){this.captureStackTrace(a,b)}var e=(a("./assert.js"),a("./util.js").inherits),f=a("./es5.js").defineProperty,g=new RegExp("\\b(?:[\\w.]*Promise(?:Array|Spawn)?\\$_\\w+|tryCatch(?:1|2|Apply)|new \\w*PromiseArray|\\w*PromiseArray\\.\\w*PromiseArray|setTimeout|CatchFilter\\$_\\w+|makeNodePromisified|processImmediate|process._tickCallback|nextTick|Async\\$\\w+)\\b"),h=null,i=null,j=!1;e(d,Error),d.prototype.captureStackTrace=function(a,b){k(this,a,b)},d.possiblyUnhandledRejection=function(a){if("object"==typeof console){var b;if("object"==typeof a||"function"==typeof a){var c=a.stack;b="Possibly unhandled "+i(c,a)}else b="Possibly unhandled "+String(a);"function"==typeof console.error||"object"==typeof console.error?console.error(b):("function"==typeof console.log||"object"==typeof console.error)&&console.log(b)}},j="CapturedTrace$captureStackTrace"!==d.prototype.captureStackTrace.name,d.combine=function(a,b){for(var c=a.length-1,d=b.length-1;d>=0;--d){var e=b[d];if(a[c]!==e)break;a.pop(),c--}a.push("From previous event:");for(var f=a.concat(b),i=[],d=0,j=f.length;j>d;++d)g.test(f[d])||d>0&&!h.test(f[d])&&"From previous event:"!==f[d]||i.push(f[d]);return i},d.isSupported=function(){return"function"==typeof k};var k=function l(){if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){h=/^\s*at\s*/,i=function(a,c){return"string"==typeof a?a:void 0!==c.name&&void 0!==c.message?c.name+". "+c.message:b(c)};var a=Error.captureStackTrace;return function(b,c){a(b,c)}}var c=new Error;if(!j&&"string"==typeof c.stack&&"function"==typeof"".startsWith&&c.stack.startsWith("stackDetection@")&&"stackDetection"===l.name){f(Error,"stackTraceLimit",{writable:!0,enumerable:!1,configurable:!1,value:25}),h=/@/;var d=/[@\n]/;return i=function(a,c){return"string"==typeof a?c.name+". "+c.message+"\n"+a:void 0!==c.name&&void 0!==c.message?c.name+". "+c.message:b(c)},function(a,b){var c,e=b.name,f=(new Error).stack,g=f.split(d),h=g.length;for(c=0;h>c&&g[c]!==e;c+=2);g=g.slice(c+2),h=g.length-2;var i="";for(c=0;h>c;c+=2)i+=g[c],i+="@",i+=g[c+1],i+="\n";a.stack=i}}return i=function(a,c){return"string"==typeof a?a:"object"!=typeof c&&"function"!=typeof c||void 0===c.name||void 0===c.message?b(c):c.name+". "+c.message},null}();return d}},{"./assert.js":2,"./es5.js":12,"./util.js":39}],8:[function(a,b){"use strict";b.exports=function(b){function c(a,b,c){this._instances=a,this._callback=b,this._promise=c}function d(a,b){var c={},d=f(a,c,b);if(d===g)return d;var e=h(c);return e.length?(g.e=new TypeError("Catch filter must inherit from Error or be a simple predicate function"),g):d}var e=a("./util.js"),f=e.tryCatch1,g=e.errorObj,h=a("./es5.js").keys;return c.prototype.doFilter=function(a){for(var c=this._callback,e=this._promise,h=e._isBound()?e._boundTo:void 0,i=0,j=this._instances.length;j>i;++i){var k=this._instances[i],l=k===Error||null!=k&&k.prototype instanceof Error;if(l&&a instanceof k){var m=f(c,h,a);return m===g?(b.e=m.e,b):m}if("function"==typeof k&&!l){var n=d(k,a);if(n===g){this._promise._attachExtraTrace(g.e),a=g.e;break}if(n){var m=f(c,h,a);return m===g?(b.e=m.e,b):m}}}return b.e=a,b},c}},{"./es5.js":12,"./util.js":39}],9:[function(a,b){"use strict";var c=a("./util.js"),d=(a("./assert.js"),c.isPrimitive),e=c.wrapsPrimitiveReceiver;b.exports=function(a){var b=function(){return this},c=function(){throw this},f=function(a,b){return 1===b?function(){throw a}:2===b?function(){return a}:void 0};a.prototype["return"]=a.prototype.thenReturn=function(a){return e&&d(a)?this._then(f(a,2),void 0,void 0,void 0,void 0,this.thenReturn):this._then(b,void 0,void 0,a,void 0,this.thenReturn)},a.prototype["throw"]=a.prototype.thenThrow=function(a){return e&&d(a)?this._then(f(a,1),void 0,void 0,void 0,void 0,this.thenThrow):this._then(c,void 0,void 0,a,void 0,this.thenThrow)}}},{"./assert.js":2,"./util.js":39}],10:[function(a,b){"use strict";function c(a){return(1&a)>0}function d(a){return(2&a)>0}function e(a){return 1|a}function f(a){return 2|a}function g(a){return-3&a}function h(a){var b;return t(a)&&void 0!==(b=a.__promiseHandled__)&&(a.__promiseHandled__=g(b)),a}function i(a){try{u(a,"isAsync",!0)}catch(b){}}function j(a){return null==a?!1:a instanceof o||a.isAsync===!0}function k(a){try{return u(a,"__promiseHandled__",0),!0}catch(b){return!1}}function l(a){return a instanceof v}function m(a){if(l(a)){var b=a.__promiseHandled__;return void 0===b?k(a):!c(b)}return!1}function n(a,b){function c(d){return this instanceof c?(this.message="string"==typeof d?d:b,this.name=a,void(v.captureStackTrace&&v.captureStackTrace(this,this.constructor))):new c(d)}return s(c,v),c}function o(a){this.name="RejectionError",this.message=a,this.cause=a,this.isAsync=!0,a instanceof v?(this.message=a.message,this.stack=a.stack):v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}var p=a("./global.js"),q=a("./es5.js").freeze,r=a("./util.js"),s=r.inherits,t=r.isObject,u=r.notEnumerableProp,v=p.Error,w=p.TypeError;"function"!=typeof w&&(w=n("TypeError","type error"));var x=p.RangeError;"function"!=typeof x&&(x=n("RangeError","range error"));var y=n("CancellationError","cancellation error"),z=n("TimeoutError","timeout error");s(o,v);var A="__BluebirdErrorTypes__",B=p[A];B||(B=q({CancellationError:y,TimeoutError:z,RejectionError:o}),u(p,A,B)),b.exports={Error:v,TypeError:w,RangeError:x,CancellationError:B.CancellationError,RejectionError:B.RejectionError,TimeoutError:B.TimeoutError,originatesFromRejection:j,markAsOriginatingFromRejection:i,attachDefaultState:k,ensureNotHandled:h,withHandledUnmarked:g,withHandledMarked:f,withStackAttached:e,isStackAttached:c,isHandled:d,canAttach:m}},{"./es5.js":12,"./global.js":16,"./util.js":39}],11:[function(a,b){"use strict";b.exports=function(b){function c(a){var c=new d(a),e=b.rejected(c),f=e._peekContext();return null!=f&&f._attachExtraTrace(c),e}var d=a("./errors.js").TypeError;return c}},{"./errors.js":10}],12:[function(a,b){function c(a){var b=[];for(var c in a)i.call(a,c)&&b.push(c);return b}function d(a,b,c){return a[b]=c.value,a}function e(a){return a}function f(a){try{return Object(a).constructor.prototype}catch(b){return k}}function g(a){try{return"[object Array]"===j.call(a)}catch(b){return!1}}var h=function(){"use strict";return void 0===this}();if(h)b.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:h};else{var i={}.hasOwnProperty,j={}.toString,k={}.constructor.prototype;b.exports={isArray:g,keys:c,defineProperty:d,freeze:e,getPrototypeOf:f,isES5:h}}},{}],13:[function(a,b){"use strict";b.exports=function(b){function c(a){for(var b=this._settledValue,c=b.length,d=new Array(c),e=0,f=0;c>f;++f)a[f]&&(d[e++]=b[f]);return d.length=e,d}var d=(a("./assert.js"),a("./util.js").isArray,{ref:null});b.filter=function(a,e){return b.map(a,e,d)._then(c,void 0,void 0,d.ref,void 0,b.filter)},b.prototype.filter=function(a){return this.map(a,d)._then(c,void 0,void 0,d.ref,void 0,this.filter)}}},{"./assert.js":2,"./util.js":39}],14:[function(a,b){b.exports=function(b,c){function d(){return this}function e(){throw k(this),this}function f(a){return function(){return a}}function g(a){return function(){throw k(a),a}}function h(a,b,c){var i=l&&m(b);return c?a._then(i?d:f(b),n,void 0,b,void 0,h):a._then(i?e:g(b),n,void 0,b,void 0,h)}function i(a){var d=this.promise,e=this.handler,f=d._isBound()?e.call(d._boundTo):e();if(void 0!==f){var g=b._cast(f,i,void 0);if(b.is(g))return h(g,a,d.isFulfilled())}return d.isRejected()?(k(a),c.e=a,c):a}var j=a("./util.js"),k=a("./errors.js").ensureNotHandled,l=j.wrapsPrimitiveReceiver,m=j.isPrimitive,n=j.thrower;b.prototype.lastly=b.prototype["finally"]=function(a){if("function"!=typeof a)return this.then();var b={promise:this,handler:a};return this._then(i,i,void 0,b,void 0,this.lastly)}}},{"./errors.js":10,"./util.js":39}],15:[function(a,b){"use strict";b.exports=function(b,c,d){var e=a("./promise_spawn.js")(b,d),f=a("./errors.js"),g=f.TypeError;b.coroutine=function(a){if("function"!=typeof a)throw new g("generatorFunction must be a function");var b=e;return function c(){var d=a.apply(this,arguments),e=new b(void 0,void 0,c);return e._generator=d,e._next(void 0),e.promise()}},b.spawn=function(a){if("function"!=typeof a)return c("generatorFunction must be a function");var d=new e(a,this,b.spawn),f=d.promise();return d._run(b.spawn),f}}},{"./errors.js":10,"./promise_spawn.js":24}],16:[function(a,b){(function(a,c){"use strict";b.exports=function(){return"undefined"!=typeof this?this:"undefined"!=typeof a&&"undefined"!=typeof c&&"string"==typeof a.execPath?c:"undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator&&null!==navigator&&"string"==typeof navigator.appName?void 0!==window.wrappedJSObject?window.wrappedJSObject:window:void 0}()}).call(this,a("/Users/fb/web/nib/node_modules/grunt-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"/Users/fb/web/nib/node_modules/grunt-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":41}],17:[function(a,b){"use strict";b.exports=function(b,c,d,e){function f(a){var e=this,g=void 0;"function"!=typeof e&&(g=e.receiver,e=e.fn);var h=!1,i=new Array(a.length);if(void 0===g)for(var j=0,k=a.length;k>j;++j){var l=e(a[j],j,k);if(!h){var m=b._cast(l,f,void 0);if(m instanceof b){if(m.isFulfilled()){i[j]=m._settledValue;continue}h=!0,l=m}}i[j]=l}else for(var j=0,k=a.length;k>j;++j){var l=e.call(g,a[j],j,k);if(!h){var m=b._cast(l,f,void 0);if(m instanceof b){if(m.isFulfilled()){i[j]=m._settledValue;continue}h=!0,l=m}}i[j]=l}return h?c(i,d,f,void 0).promise():i}function g(a,b,g,h,i){if("function"!=typeof b)return e("fn must be a function");g===!0&&a._isBound()&&(b={fn:b,receiver:a._boundTo});var j=c(a,d,h,g===!0&&a._isBound()?a._boundTo:void 0).promise();return void 0!==i&&(i.ref=j),j._then(f,void 0,void 0,b,void 0,h)}a("./assert.js");b.prototype.map=function(a,b){return g(this,a,!0,this.map,b)},b.map=function(a,c,d){return g(a,c,!1,b.map,d)}}},{"./assert.js":2}],18:[function(a,b){"use strict";b.exports=function(b){function c(a){throw a}function d(a,b){var d=this,e=h(d,b,null,a);e===j&&g.invokeLater(c,void 0,e.e)}function e(a,b){var d=this,e=i(d,b,a);e===j&&g.invokeLater(c,void 0,e.e)}var f=a("./util.js"),g=a("./async.js"),h=(a("./assert.js"),f.tryCatch2),i=f.tryCatch1,j=f.errorObj;b.prototype.nodeify=function(a){return"function"==typeof a&&this._then(d,e,void 0,a,this._isBound()?this._boundTo:null,this.nodeify),this}}},{"./assert.js":2,"./async.js":3,"./util.js":39}],19:[function(a,b){"use strict";b.exports=function(b,c){var d=(a("./assert.js"),a("./util.js")),e=a("./async.js"),f=d.tryCatch1,g=d.errorObj;b.prototype.progressed=function(a){return this._then(void 0,void 0,a,void 0,void 0,this.progressed)},b.prototype._progress=function(a){this._isFollowingOrFulfilledOrRejected()||this._progressUnchecked(a)},b.prototype._progressHandlerAt=function(a){return 0===a?this._progressHandler0:this[a+2-5]},b.prototype._doProgressWith=function(a){var c=a.value,d=a.handler,e=a.promise,h=a.receiver;this._pushContext();var i=f(d,h,c);this._popContext(),i===g?null!=i.e&&"StopProgressPropagation"===i.e.name?i.e.__promiseHandled__=2:(e._attachExtraTrace(i.e),e._progress(i.e)):b.is(i)?i._then(e._progress,null,null,e,void 0,this._progress):e._progress(i)},b.prototype._progressUnchecked=function(a){if(this.isPending())for(var d=this._length(),f=0;d>f;f+=5){var g=this._progressHandlerAt(f),h=this._promiseAt(f);if(b.is(h))"function"==typeof g?e.invoke(this._doProgressWith,this,{handler:g,promise:h,receiver:this._receiverAt(f),value:a}):e.invoke(h._progress,h,a);else{var i=this._receiverAt(f);"function"==typeof g?g.call(i,a,h):b.is(i)&&i._isProxied()?i._progressUnchecked(a):c(i,h)&&i._promiseProgressed(a,h)}}}}},{"./assert.js":2,"./async.js":3,"./util.js":39}],20:[function(a,b){(function(c){"use strict";b.exports=function(){function b(a){return void 0===a?!1:a instanceof e}function d(a,b){return a instanceof o?b>=0:!1}function e(a){if("function"!=typeof a)throw new B("the promise constructor requires a resolver function");if(this.constructor!==e)throw new B("the promise constructor cannot be invoked directly");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,this._boundTo=void 0,a!==l&&this._resolveFromResolver(a)}function f(a,b,c){return g(a,o,c,b===!0&&a._isBound()?a._boundTo:void 0).promise()}function g(a,c,d,f){var h=null;return s(a)?h=a:(h=e._cast(a,d,void 0),h!==a?h._setBoundTo(f):b(h)||(h=null)),null!==h?new c(h,"function"==typeof d?d:g,f):{promise:function(){return O("expecting an array, a promise or a thenable")}}}var h=a("./global.js"),i=(a("./assert.js"),a("./util.js")),j=a("./async.js"),k=a("./errors.js"),l=function(){},m={},n={e:null},o=a("./promise_array.js")(e,l),p=a("./captured_trace.js")(),q=a("./catch_filter.js")(n),r=a("./promise_resolver.js"),s=i.isArray,t=i.notEnumerableProp,u=i.isObject,v=i.ensurePropertyExpansion,w=i.errorObj,x=i.tryCatch1,y=i.tryCatch2,z=i.tryCatchApply,A=k.RangeError,B=k.TypeError,C=k.CancellationError,D=k.TimeoutError,E=k.RejectionError,F=k.originatesFromRejection,G=k.markAsOriginatingFromRejection,H=k.ensureNotHandled,I=k.withHandledMarked,J=k.withStackAttached,K=k.isStackAttached,L=k.isHandled,M=k.canAttach,N=i.thrower,O=a("./errors_api_rejection")(e),P=function(){return new B("circular promise resolution chain")};e.prototype.bind=function(a){var b=new e(l);return Q&&b._setTrace(this.bind,this),b._follow(this),b._setBoundTo(a),this._cancellable()&&(b._setCancellable(),b._cancellationParent=this),b},e.prototype.toString=function(){return"[object Promise]"},e.prototype.caught=e.prototype["catch"]=function(a){var b=arguments.length;if(b>1){var c,d=new Array(b-1),e=0;for(c=0;b-1>c;++c){var f=arguments[c];if("function"!=typeof f){var g=new B("A catch filter must be an error constructor or a filter function");return this._attachExtraTrace(g),void j.invoke(this._reject,this,g)}d[e++]=f}d.length=e,a=arguments[c],this._resetTrace(this.caught);var h=new q(d,a,this);return this._then(void 0,h.doFilter,void 0,h,void 0,this.caught)}return this._then(void 0,a,void 0,void 0,void 0,this.caught)},e.prototype.then=function(a,b,c){return this._then(a,b,c,void 0,void 0,this.then)},e.prototype.done=function(a,b,c){var d=this._then(a,b,c,void 0,void 0,this.done);d._setIsFinal()},e.prototype.spread=function(a,b){return this._then(a,b,void 0,m,void 0,this.spread)},e.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},e.prototype.isRejected=function(){return(134217728&this._bitField)>0},e.prototype.isPending=function(){return!this.isResolved()},e.prototype.isResolved=function(){return(402653184&this._bitField)>0},e.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},e.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(a.fulfillmentValue=this._settledValue,a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this._settledValue,a.isRejected=!0),a},e.prototype.all=function(){return f(this,!0,this.all)},e.is=b,e.all=function(a){return f(a,!1,e.all)},e.join=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;++c)b[c]=arguments[c];return g(b,o,e.join,void 0).promise()},e.resolve=e.fulfilled=function(a,b){var c=new e(l);return Q&&c._setTrace("function"==typeof b?b:e.resolve,void 0),c._tryFollow(a)?c:(c._cleanValues(),c._setFulfilled(),c._settledValue=a,c)},e.reject=e.rejected=function(a){var b=new e(l);return Q&&b._setTrace(e.reject,void 0),G(a),b._cleanValues(),b._setRejected(),b._settledValue=a,b},e.prototype.error=function(a){return this.caught(F,a)},e.prototype._resolveFromSyncValue=function(a,b){if(a===w)this._cleanValues(),this._setRejected(),this._settledValue=a.e;else{var c=e._cast(a,b,void 0);c instanceof e?this._follow(c):(this._cleanValues(),this._setFulfilled(),this._settledValue=a)}},e.method=function(a){if("function"!=typeof a)throw new B("fn must be a function");return function b(){var c;switch(arguments.length){case 0:c=x(a,this,void 0);break;case 1:c=x(a,this,arguments[0]);break;case 2:c=y(a,this,arguments[0],arguments[1]);break;default:for(var d=arguments.length,f=new Array(d),g=0;d>g;++g)f[g]=arguments[g];c=z(a,f,this)}var h=new e(l);return Q&&h._setTrace(b,void 0),h._resolveFromSyncValue(c,b),h}},e.attempt=e["try"]=function(a,b,c){if("function"!=typeof a)return O("fn must be a function");var d=s(b)?z(a,b,c):x(a,c,b),f=new e(l);return Q&&f._setTrace(e.attempt,void 0),f._resolveFromSyncValue(d,e.attempt),f},e.defer=e.pending=function(a){var b=new e(l);return Q&&b._setTrace("function"==typeof a?a:e.defer,void 0),new r(b)},e.bind=function(a){var b=new e(l);return Q&&b._setTrace(e.bind,void 0),b._setFulfilled(),b._setBoundTo(a),b},e.cast=function(a,b){"function"!=typeof b&&(b=e.cast);var c=e._cast(a,b,void 0);return c instanceof e?c:e.resolve(c,b)},e.onPossiblyUnhandledRejection=function(a){p.possiblyUnhandledRejection="function"==typeof a?a:void 0};var Q=!1||!("undefined"==typeof c||"string"!=typeof c.execPath||"object"!=typeof c.env||!c.env.BLUEBIRD_DEBUG&&"development"!==c.env.NODE_ENV);e.longStackTraces=function(){if(j.haveItemsQueued()&&Q===!1)throw new Error("cannot enable long stack traces after promises have been created");Q=p.isSupported()},e.hasLongStackTraces=function(){return Q&&p.isSupported()},e.prototype._setProxyHandlers=function(a,b){var c=this._length();if(c>=4194298&&(c=0,this._setLength(0)),0===c)this._promise0=b,this._receiver0=a;else{var d=c-5;this[d+3]=b,this[d+4]=a,this[d+0]=this[d+1]=this[d+2]=void 0}this._setLength(c+5)},e.prototype._proxyPromiseArray=function(a,b){this._setProxyHandlers(a,b)},e.prototype._proxyPromise=function(a){a._setProxied(),this._setProxyHandlers(a,-1)},e.prototype._then=function(a,b,c,d,f,g){var h=void 0!==f,i=h?f:new e(l);if(Q&&!h){var k=this._peekContext()===this._traceParent;i._traceParent=k?this._traceParent:this,i._setTrace("function"==typeof g?g:this._then,this)}!h&&this._isBound()&&i._setBoundTo(this._boundTo);var m=this._addCallbacks(a,b,c,i,d);return!h&&this._cancellable()&&(i._setCancellable(),i._cancellationParent=this),this.isResolved()&&j.invoke(this._queueSettleAt,this,m),i},e.prototype._length=function(){return 4194303&this._bitField},e.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},e.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},e.prototype._setLength=function(a){this._bitField=-4194304&this._bitField|4194303&a},e.prototype._cancellable=function(){return(67108864&this._bitField)>0},e.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},e.prototype._setRejected=function(){this._bitField=134217728|this._bitField},e.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},e.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},e.prototype._isFinal=function(){return(33554432&this._bitField)>0},e.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},e.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},e.prototype._receiverAt=function(a){var b;return b=0===a?this._receiver0:this[a+4-5],this._isBound()&&void 0===b?this._boundTo:b},e.prototype._promiseAt=function(a){return 0===a?this._promise0:this[a+3-5]},e.prototype._fulfillmentHandlerAt=function(a){return 0===a?this._fulfillmentHandler0:this[a+0-5]},e.prototype._rejectionHandlerAt=function(a){return 0===a?this._rejectionHandler0:this[a+1-5]},e.prototype._unsetAt=function(a){0===a?this._fulfillmentHandler0=this._rejectionHandler0=this._progressHandler0=this._promise0=this._receiver0=void 0:this[a-5+0]=this[a-5+1]=this[a-5+2]=this[a-5+3]=this[a-5+4]=void 0},e.prototype._resolveFromResolver=function(a){function b(a){d._tryFollow(a)||d._fulfill(a)}function c(a){d._attachExtraTrace(a),G(a),d._reject(a)}var d=this,e=Q;e&&(this._setTrace(this._resolveFromResolver,void 0),this._pushContext());var f=y(a,void 0,b,c);e&&this._popContext(),void 0!==f&&f===w&&d._reject(f.e)},e.prototype._addCallbacks=function(a,b,c,d,e){var f=this._length();if(f>=4194298&&(f=0,this._setLength(0)),0===f)this._promise0=d,void 0!==e&&(this._receiver0=e),"function"==typeof a&&(this._fulfillmentHandler0=a),"function"==typeof b&&(this._rejectionHandler0=b),"function"==typeof c&&(this._progressHandler0=c);else{var g=f-5;this[g+3]=d,this[g+4]=e,this[g+0]="function"==typeof a?a:void 0,this[g+1]="function"==typeof b?b:void 0,this[g+2]="function"==typeof c?c:void 0}return this._setLength(f+5),f},e.prototype._setBoundTo=function(a){void 0!==a?(this._bitField=8388608|this._bitField,this._boundTo=a):this._bitField=-8388609&this._bitField},e.prototype._isBound=function(){return 8388608===(8388608&this._bitField)},e.prototype._spreadSlowCase=function(a,b,c,d){var e=g(c,o,this._spreadSlowCase,d).promise()._then(function(){return a.apply(d,arguments)},void 0,void 0,m,void 0,this._spreadSlowCase);b._follow(e)},e.prototype._markHandled=function(a){if("object"==typeof a&&null!==a){var b=a.__promiseHandled__;void 0===b?t(a,"__promiseHandled__",2):a.__promiseHandled__=I(b)}},e.prototype._callSpread=function(a,c,d,f){var g=this._isBound()?this._boundTo:void 0;if(s(d))for(var h=this._settlePromiseFromHandler,i=0,j=d.length;j>i;++i)if(b(e._cast(d[i],h,void 0)))return void this._spreadSlowCase(a,c,d,g);return f&&c._pushContext(),z(a,d,g)},e.prototype._callHandler=function(a,b,c,d,e){var f;return b!==m||this.isRejected()?(e&&c._pushContext(),f=x(a,b,d)):f=this._callSpread(a,c,d,e),e&&c._popContext(),f},e.prototype._settlePromiseFromHandler=function(a,c,d,f){if(!b(f))return void a.call(c,d,f);this.isRejected()&&this._markHandled(d);var g=Q,h=this._callHandler(a,c,f,d,g);if(!f._isFollowing())if(h===w||h===f||h===n){var i=h===f?P():H(h.e);h!==n&&f._attachExtraTrace(i),f._rejectUnchecked(i)}else{var j=e._cast(h,g?this._settlePromiseFromHandler:void 0,f);b(j)?(f._follow(j),j._cancellable()&&(f._cancellationParent=j,f._setCancellable())):f._fulfillUnchecked(h)}},e.prototype._follow=function(a){this._setFollowing(),a.isPending()?(a._cancellable()&&(this._cancellationParent=a,this._setCancellable()),a._proxyPromise(this)):a.isFulfilled()?this._fulfillUnchecked(a._settledValue):this._rejectUnchecked(a._settledValue),Q&&null==a._traceParent&&(a._traceParent=this)},e.prototype._tryFollow=function(a){if(this._isFollowingOrFulfilledOrRejected()||a===this)return!1;var c=e._cast(a,this._tryFollow,void 0);return b(c)?(this._follow(c),!0):!1},e.prototype._resetTrace=function(a){if(Q){var b=this._peekContext(),c=void 0===b;this._trace=new p("function"==typeof a?a:this._resetTrace,c)}},e.prototype._setTrace=function(a,b){if(Q){var c=this._peekContext();this._traceParent=c;var d=void 0===c;this._trace=void 0!==b&&b._traceParent===c?b._trace:new p("function"==typeof a?a:this._setTrace,d)}return this},e.prototype._attachExtraTrace=function(a){if(Q&&M(a)){var b=this,c=a.stack;c="string"==typeof c?c.split("\n"):[];for(var d=1;null!=b&&null!=b._trace;)c=p.combine(c,b._trace.stack.split("\n")),b=b._traceParent;var e=Error.stackTraceLimit+d,f=c.length;f>e&&(c.length=e),a.stack=c.length<=d?"(No stack trace)":c.join("\n"),a.__promiseHandled__=J(a.__promiseHandled__)}},e.prototype._notifyUnhandledRejection=function(a){L(a.__promiseHandled__)||(a.__promiseHandled__=I(a.__promiseHandled__),p.possiblyUnhandledRejection(a,this))},e.prototype._unhandledRejection=function(a){L(a.__promiseHandled__)||j.invokeLater(this._notifyUnhandledRejection,this,a)},e.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},e.prototype._fulfill=function(a){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(a)},e.prototype._reject=function(a){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(a)},e.prototype._settlePromiseAt=function(a){var b=this.isFulfilled()?this._fulfillmentHandlerAt(a):this._rejectionHandlerAt(a),c=this._settledValue,f=this._receiverAt(a),g=this._promiseAt(a);if("function"==typeof b)this._settlePromiseFromHandler(b,f,c,g);else{var h=!1,i=this.isFulfilled();void 0!==f&&(f instanceof e&&f._isProxied()?(f._unsetProxied(),i?f._fulfillUnchecked(c):f._rejectUnchecked(c),h=!0):d(f,g)&&(i?f._promiseFulfilled(c,g):f._promiseRejected(c,g),h=!0)),h||(i?g._fulfill(c):g._reject(c))}a>=256&&this._queueGC()},e.prototype._isProxied=function(){return 4194304===(4194304&this._bitField)},e.prototype._setProxied=function(){this._bitField=4194304|this._bitField},e.prototype._unsetProxied=function(){this._bitField=-4194305&this._bitField},e.prototype._isGcQueued=function(){return-1073741824===(-1073741824&this._bitField)},e.prototype._setGcQueued=function(){this._bitField=-1073741824|this._bitField},e.prototype._unsetGcQueued=function(){this._bitField=1073741823&this._bitField},e.prototype._queueGC=function(){this._isGcQueued()||(this._setGcQueued(),j.invokeLater(this._gc,this,void 0))},e.prototype._gc=function(){var a=this._length();this._unsetAt(0);for(var b=0;a>b;b++)delete this[b];this._setLength(0),this._unsetGcQueued()},e.prototype._queueSettleAt=function(a){j.invoke(this._settlePromiseAt,this,a)},e.prototype._fulfillUnchecked=function(a){if(this.isPending()){if(a===this){var b=P();return this._attachExtraTrace(b),this._rejectUnchecked(b)}this._cleanValues(),this._setFulfilled(),this._settledValue=a;var c=this._length();c>0&&j.invoke(this._fulfillPromises,this,c)}},e.prototype._fulfillPromises=function(a){a=this._length();for(var b=0;a>b;b+=5)this._settlePromiseAt(b)},e.prototype._rejectUnchecked=function(a){if(this.isPending()){if(a===this){var b=P();return this._attachExtraTrace(b),this._rejectUnchecked(b)}if(this._cleanValues(),this._setRejected(),this._settledValue=a,this._isFinal())return void j.invokeLater(N,void 0,a);var c=this._length();c>0?j.invoke(this._rejectPromises,this,c):this._ensurePossibleRejectionHandled(a)}},e.prototype._rejectPromises=function(a){a=this._length();for(var c=!1,e=0;a>e;e+=5){var f=this._rejectionHandlerAt(e);if(!c)if("function"==typeof f)c=!0;else{var g=this._promiseAt(e);if(b(g)&&g._length()>0)c=!0;else{var h=this._receiverAt(e);(b(h)&&h._length()>0||d(h,g))&&(c=!0)}}this._settlePromiseAt(e)}c||this._ensurePossibleRejectionHandled(this._settledValue)},e.prototype._ensurePossibleRejectionHandled=function(a){if(void 0!==p.possiblyUnhandledRejection&&u(a)){var b=a.__promiseHandled__,c=a;if(void 0===b)c=v(a,"__promiseHandled__",0),b=0;else if(L(b))return;K(b)||this._attachExtraTrace(c),j.invoke(this._unhandledRejection,this,c)}};var R=[];e.prototype._peekContext=function(){var a=R.length-1;return a>=0?R[a]:void 0},e.prototype._pushContext=function(){Q&&R.push(this)},e.prototype._popContext=function(){Q&&R.pop()};var S=h.Promise;return e.noConflict=function(){return h.Promise===e&&(h.Promise=S),e},p.isSupported()||(e.longStackTraces=function(){},Q=!1),e._makeSelfResolutionError=P,a("./finally.js")(e,n),a("./direct_resolve.js")(e),a("./thenables.js")(e),e.RangeError=A,e.CancellationError=C,e.TimeoutError=D,e.TypeError=B,e.RejectionError=E,a("./timers.js")(e,l),a("./synchronous_inspection.js")(e),a("./any.js")(e,g,o),a("./race.js")(e,l),a("./call_get.js")(e),a("./filter.js")(e,g,o,O),a("./generators.js")(e,O,l),a("./map.js")(e,g,o,O),a("./nodeify.js")(e),a("./promisify.js")(e,l),a("./props.js")(e,o),a("./reduce.js")(e,g,o,O,l),a("./settle.js")(e,g,o),a("./some.js")(e,g,o,O),a("./progress.js")(e,d),a("./cancel.js")(e,l),e.prototype=e.prototype,e
}}).call(this,a("/Users/fb/web/nib/node_modules/grunt-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./any.js":1,"./assert.js":2,"./async.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./direct_resolve.js":9,"./errors.js":10,"./errors_api_rejection":11,"./filter.js":13,"./finally.js":14,"./generators.js":15,"./global.js":16,"./map.js":17,"./nodeify.js":18,"./progress.js":19,"./promise_array.js":21,"./promise_resolver.js":23,"./promisify.js":25,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":34,"./synchronous_inspection.js":36,"./thenables.js":37,"./timers.js":38,"./util.js":39,"/Users/fb/web/nib/node_modules/grunt-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":41}],21:[function(a,b){"use strict";b.exports=function(b,c){function d(a){switch(a){case-1:return void 0;case-2:return[];case-3:return{}}}function e(a,d,e){var f=this._promise=new b(c),g=void 0;b.is(a)&&(g=a,a._cancellable()&&(f._setCancellable(),f._cancellationParent=a),a._isBound()&&f._setBoundTo(e)),f._setTrace(d,g),this._values=a,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var f=(a("./assert.js"),a("./errors.js").ensureNotHandled),g=a("./util.js"),h=a("./async.js"),i={}.hasOwnProperty,j=g.isArray;return e.PropertiesPromiseArray=function(){},e.prototype.length=function(){return this._length},e.prototype.promise=function(){return this._promise},e.prototype._init=function(a,c){var f=this._values;if(b.is(f)){if(!f.isFulfilled())return f.isPending()?void f._then(this._init,this._reject,void 0,this,c,this.constructor):void this._reject(f._settledValue);if(f=f._settledValue,!j(f)){var g=new b.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(g)}this._values=f}if(0===f.length)return void this._resolve(d(c));var k,l=f.length,m=l;k=this instanceof e.PropertiesPromiseArray?this._values:new Array(l);for(var n=!1,o=0;l>o;++o){var p=f[o];if(void 0!==p||i.call(f,o)){var q=b._cast(p,void 0,void 0);q instanceof b&&q.isPending()?q._proxyPromiseArray(this,o):n=!0,k[o]=q}else m--}if(0===m)return void this._resolve(-2===c?k:d(c));if(this._values=k,this._length=m,n){var r=m===l?this._scanDirectValues:this._scanDirectValuesHoled;h.invoke(r,this,l)}},e.prototype._settlePromiseAt=function(a){var c=this._values[a];b.is(c)?c.isFulfilled()?this._promiseFulfilled(c._settledValue,a):c.isRejected()&&this._promiseRejected(c._settledValue,a):this._promiseFulfilled(c,a)},e.prototype._scanDirectValuesHoled=function(a){for(var b=0;a>b&&!this._isResolved();++b)i.call(this._values,b)&&this._settlePromiseAt(b)},e.prototype._scanDirectValues=function(a){for(var b=0;a>b&&!this._isResolved();++b)this._settlePromiseAt(b)},e.prototype._isResolved=function(){return null===this._values},e.prototype._resolve=function(a){this._values=null,this._promise._fulfill(a)},e.prototype.__hardReject__=e.prototype._reject=function(a){f(a),this._values=null,this._promise._attachExtraTrace(a),this._promise._reject(a)},e.prototype._promiseProgressed=function(a,b){this._isResolved()||this._promise._progress({index:b,value:a})},e.prototype._promiseFulfilled=function(a,b){if(!this._isResolved()){this._values[b]=a;var c=++this._totalResolved;c>=this._length&&this._resolve(this._values)}},e.prototype._promiseRejected=function(a){this._isResolved()||(this._totalResolved++,this._reject(a))},e}},{"./assert.js":2,"./async.js":3,"./errors.js":10,"./util.js":39}],22:[function(a,b){"use strict";function c(a){void 0!==a?(this._bitField=a._bitField,this._settledValue=a.isResolved()?a._settledValue:void 0):(this._bitField=0,this._settledValue=void 0)}var d=a("./errors.js").TypeError;c.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},c.prototype.isRejected=function(){return(134217728&this._bitField)>0},c.prototype.isPending=function(){return 0===(402653184&this._bitField)},c.prototype.value=function(){if(!this.isFulfilled())throw new d("cannot get fulfillment value of a non-fulfilled promise");return this._settledValue},c.prototype.error=function(){if(!this.isRejected())throw new d("cannot get rejection reason of a non-rejected promise");return this._settledValue},b.exports=c},{"./errors.js":10}],23:[function(a,b){"use strict";function c(a){return a instanceof Error&&n.getPrototypeOf(a)===Error.prototype}function d(a){var b;return b=c(a)?new k(a):a,i.markAsOriginatingFromRejection(b),b}function e(a){function b(b,c){if(b){var e=d(h(b));a._attachExtraTrace(e),a._reject(e)}else if(arguments.length>2){for(var f=arguments.length,g=new Array(f-1),i=1;f>i;++i)g[i-1]=arguments[i];a._fulfill(g)}else a._fulfill(c)}return b}var f,g=a("./util.js"),h=g.maybeWrapAsError,i=a("./errors.js"),j=i.TimeoutError,k=i.RejectionError,l=a("./async.js"),m=g.haveGetters,n=a("./es5.js");if(f=m?function(a){this.promise=a}:function(a){this.promise=a,this.asCallback=e(a),this.callback=this.asCallback},m){var o={get:function(){return e(this.promise)}};n.defineProperty(f.prototype,"asCallback",o),n.defineProperty(f.prototype,"callback",o)}f._nodebackForPromise=e,f.prototype.toString=function(){return"[object PromiseResolver]"},f.prototype.resolve=f.prototype.fulfill=function(a){var b=this.promise;b._tryFollow(a)||l.invoke(b._fulfill,b,a)},f.prototype.reject=function(a){var b=this.promise;i.markAsOriginatingFromRejection(a),b._attachExtraTrace(a),l.invoke(b._reject,b,a)},f.prototype.progress=function(a){l.invoke(this.promise._progress,this.promise,a)},f.prototype.cancel=function(){l.invoke(this.promise.cancel,this.promise,void 0)},f.prototype.timeout=function(){this.reject(new j("timeout"))},f.prototype.isResolved=function(){return this.promise.isResolved()},f.prototype.toJSON=function(){return this.promise.toJSON()},b.exports=f},{"./async.js":3,"./errors.js":10,"./es5.js":12,"./util.js":39}],24:[function(a,b){"use strict";b.exports=function(b,c){function d(a,d,e){var f=this._promise=new b(c);f._setTrace(e,void 0),this._generatorFunction=a,this._receiver=d,this._generator=void 0}var e=a("./errors.js"),f=e.TypeError,g=e.ensureNotHandled,h=a("./util.js"),i=h.isArray,j=h.errorObj,k=h.tryCatch1;return d.prototype.promise=function(){return this._promise},d.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},d.prototype._continue=function l(a){if(a===j)return this._generator=void 0,this._promise._attachExtraTrace(a.e),void this._promise._reject(a.e);var c=a.value;if(a.done===!0)this._generator=void 0,this._promise._tryFollow(c)||this._promise._fulfill(c);else{var d=b._cast(c,l,void 0);if(!(d instanceof b)){if(!i(d))return void this._throw(new f("A value was yielded that could not be treated as a promise"));d=b.all(d)}d._then(this._next,this._throw,void 0,this,null,void 0)}},d.prototype._throw=function(a){g(a),this._promise._attachExtraTrace(a),this._continue(k(this._generator["throw"],this._generator,a))},d.prototype._next=function(a){this._continue(k(this._generator.next,this._generator,a))},d}},{"./errors.js":10,"./util.js":39}],25:[function(a,b){"use strict";b.exports=function(b,c){function d(a){return a.__isPromisified__===!0}function e(a,d,e){function f(b){for(var c=new Array(b),e=0,f=c.length;f>e;++e)c[e]="a"+(e+1);var g=b>0?",":"";return"string"==typeof a&&d===i?"this['"+a+"']("+c.join(",")+g+" fn);break;":(void 0===d?"callback("+c.join(",")+g+" fn);":"callback.call("+(d===i?"this":"receiver")+", "+c.join(",")+g+" fn);")+"break;"}function g(){return"var args = new Array(len + 1);var i = 0;for (var i = 0; i < len; ++i) {    args[i] = arguments[i];}args[i] = fn;"}var h="string"==typeof e?e+"Async":"promisified";return new Function("Promise","callback","receiver","withAppended","maybeWrapAsError","nodebackForPromise","INTERNAL","var ret = function "+h+'(a1, a2, a3, a4, a5) {"use strict";var len = arguments.length;var promise = new Promise(INTERNAL);promise._setTrace('+h+", void 0);var fn = nodebackForPromise(promise);try{switch(len) {case 1:"+f(1)+"case 2:"+f(2)+"case 3:"+f(3)+"case 0:"+f(0)+"case 4:"+f(4)+"case 5:"+f(5)+"default: "+g()+("string"==typeof a?"this['"+a+"'].apply(":"callback.apply(")+(d===i?"this":"receiver")+", args); break;}}catch(e){ var wrapped = maybeWrapAsError(e);promise._attachExtraTrace(wrapped);promise._reject(wrapped);}return promise;}; ret.__isPromisified__ = true; return ret;")(b,a,d,m,n,l,c)}function f(a,d){function e(){var f=d;d===i&&(f=this),"string"==typeof a&&(a=f[a]);var g=new b(c);g._setTrace(e,void 0);var h=l(g);try{a.apply(f,m(arguments,h))}catch(j){var k=n(j);g._attachExtraTrace(k),g._reject(k)}return g}return e.__isPromisified__=!0,e}function g(){}function h(a,b,c){if(c){for(var d=t(a),e=0,f=d.length;f>e;e+=2){var h=d[e],j=d[e+1],k=h+"__beforePromisified__",l=h+"Async";p(a,k,j),a[l]=u(k,i,h)}return d.length>16&&(g.prototype=a),a}return u(a,b,void 0)}var i={},j=a("./util.js"),k=a("./es5.js"),l=a("./promise_resolver.js")._nodebackForPromise,m=j.withAppended,n=j.maybeWrapAsError,o=j.canEvaluate,p=j.notEnumerableProp,q=j.deprecated,r=(a("./assert.js"),new RegExp("__beforePromisified__$")),s={}.hasOwnProperty,t=function(){if(k.isES5){var a=Object.create,b=Object.getOwnPropertyDescriptor;return function(c){for(var e=c,f=[],g=a(null);null!==c;){for(var h=k.keys(c),i=0,j=h.length;j>i;++i){var l=h[i];if(!(g[l]||r.test(l)||s.call(e,l+"__beforePromisified__"))){g[l]=!0;var m=b(c,l);null==m||"function"!=typeof m.value||d(m.value)||f.push(l,m.value)}}c=k.getPrototypeOf(c)}return f}}return function(a){var b=[];for(var c in a)if(!r.test(c)&&!s.call(a,c+"__beforePromisified__")){var e=a[c];"function"!=typeof e||d(e)||b.push(c,e)}return b}}(),u=o?e:f;b.promisify=function(a,b){if("object"==typeof a&&null!==a)return q("Promise.promisify for promisifying entire objects is deprecated. Use Promise.promisifyAll instead."),h(a,b,!0);if("function"!=typeof a)throw new TypeError("fn must be a function");return d(a)?a:h(a,arguments.length<2?i:b,!1)},b.promisifyAll=function(a){if("function"!=typeof a&&"object"!=typeof a)throw new TypeError("the target of promisifyAll must be an object or a function");return h(a,void 0,!0)}}},{"./assert.js":2,"./es5.js":12,"./promise_resolver.js":23,"./util.js":39}],26:[function(a,b){"use strict";b.exports=function(b,c){function d(a,b,c){for(var d=g.keys(a),e=new Array(d.length),f=0,h=e.length;h>f;++f)e[f]=a[d[f]];if(this.constructor$(e,b,c),!this._isResolved())for(var f=0,h=d.length;h>f;++f)e.push(d[f])}var e=(a("./assert.js"),a("./util.js")),f=e.inherits,g=a("./es5.js");return f(d,c),d.prototype._init=function(){this._init$(void 0,-3)},d.prototype._promiseFulfilled=function(a,b){if(!this._isResolved()){this._values[b]=a;var c=++this._totalResolved;if(c>=this._length){for(var d={},e=this.length(),f=0,g=this.length();g>f;++f)d[this._values[f+e]]=this._values[f];this._resolve(d)}}},d.prototype._promiseProgressed=function(a,b){this._isResolved()||this._promise._progress({key:this._values[b+this.length()],value:a})},c.PropertiesPromiseArray=d,d}},{"./assert.js":2,"./es5.js":12,"./util.js":39}],27:[function(a,b){"use strict";b.exports=function(b,c){function d(a,c,d){var f,i=b._cast(a,d,void 0);return h(i)?(b.is(i)?f=i._then(b.props,void 0,void 0,void 0,void 0,d):(f=new e(i,d,c===!0&&i._isBound()?i._boundTo:void 0).promise(),c=!1),c===!0&&i._isBound()&&f._setBoundTo(i._boundTo),f):g("cannot await properties of a non-object")}var e=a("./properties_promise_array.js")(b,c),f=a("./util.js"),g=a("./errors_api_rejection")(b),h=f.isObject;b.prototype.props=function(){return d(this,!0,this.props)},b.props=function(a){return d(a,!1,b.props)}}},{"./errors_api_rejection":11,"./properties_promise_array.js":26,"./util.js":39}],28:[function(a,b){"use strict";function c(a,b,c,d,e){for(var f=0;e>f;++f)c[f+d]=a[f+b]}function d(a){return a>>>=0,a-=1,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a|=a>>16,a+1}function e(a){return"number"!=typeof a?16:d(Math.min(Math.max(16,a),1073741824))}function f(a){this._capacity=e(a),this._length=0,this._front=0,this._makeCapacity()}a("./assert.js");f.prototype._willBeOverCapacity=function(a){return this._capacity<a},f.prototype._pushOne=function(a){var b=this.length();this._checkCapacity(b+1);var c=this._front+b&this._capacity-1;this[c]=a,this._length=b+1},f.prototype.push=function(a,b,c){var d=this.length()+3;if(this._willBeOverCapacity(d))return this._pushOne(a),this._pushOne(b),void this._pushOne(c);var e=this._front+d-3;this._checkCapacity(d);var f=this._capacity-1;this[e+0&f]=a,this[e+1&f]=b,this[e+2&f]=c,this._length=d},f.prototype.shift=function(){var a=this._front,b=this[a];return this[a]=void 0,this._front=a+1&this._capacity-1,this._length--,b},f.prototype.length=function(){return this._length},f.prototype._makeCapacity=function(){for(var a=this._capacity,b=0;a>b;++b)this[b]=void 0},f.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<3)},f.prototype._resizeTo=function(a){var b=this._front,d=this._capacity,e=new Array(d),f=this.length();if(c(this,0,e,0,d),this._capacity=a,this._makeCapacity(),this._front=0,d>=b+f)c(e,b,this,0,f);else{var g=f-(b+f&d-1);c(e,b,this,0,g),c(e,0,this,g,f-g)}},b.exports=f},{"./assert.js":2}],29:[function(a,b){"use strict";b.exports=function(b,c){function d(a,d,i){var j=b._cast(a,d,void 0);if(b.is(j))return g(j);if(!f(a))return e("expecting an array, a promise or a thenable");var k=new b(c);k._setTrace(d,i),void 0!==i&&(i._isBound()&&k._setBoundTo(i._boundTo),i._cancellable()&&(k._setCancellable(),k._cancellationParent=i));for(var l=k._fulfill,m=k._reject,n=0,o=a.length;o>n;++n){var p=a[n];(void 0!==p||h.call(a,n))&&b.cast(p)._then(l,m,void 0,k,null,d)}return k}var e=a("./errors_api_rejection.js")(b),f=a("./util.js").isArray,g=function(a){return a.then(function b(c){return d(c,b,a)})},h={}.hasOwnProperty;b.race=function(a){return d(a,b.race,void 0)},b.prototype.race=function(){return d(this,this.race,void 0)}}},{"./errors_api_rejection.js":11,"./util.js":39}],30:[function(a,b){"use strict";b.exports=function(b,c,d,e,f){function g(a,c,d,e,g){this.promise=new b(f),this.index=c,this.length=e.length,this.items=e,this.callback=a,this.receiver=g,this.accum=d}function h(a,b){var c=this,d=void 0;"function"!=typeof c&&(d=c.receiver,c=c.fn);var e=a.length,f=void 0,h=0;void 0!==b?(f=b,h=0):(h=1,e>0&&(f=a[0]));var i=h;if(i>=e)return f;var j=new g(c,i,f,a,d);return j.iterate(),j.promise}function i(a){var b=this.fn,c=this.initialValue;return h.call(b,a,c)}function j(a,b,c,d,e){return c._then(function f(c){return k(a,b,c,d,f)},void 0,void 0,void 0,void 0,e)}function k(a,f,g,k,l){if("function"!=typeof f)return e("fn must be a function");if(k===!0&&a._isBound()&&(f={fn:f,receiver:a._boundTo}),void 0!==g){if(b.is(g)){if(!g.isFulfilled())return j(a,f,g,k,l);g=g._settledValue}return c(a,d,l,k===!0&&a._isBound()?a._boundTo:void 0).promise()._then(i,void 0,void 0,{fn:f,initialValue:g},void 0,b.reduce)}return c(a,d,l,k===!0&&a._isBound()?a._boundTo:void 0).promise()._then(h,void 0,void 0,f,void 0,l)}a("./assert.js");g.prototype.reject=function(a){this.promise._reject(a)},g.prototype.fulfill=function(a,b){this.accum=a,this.index=b+1,this.iterate()},g.prototype.iterate=function(){for(var a=this.index,c=this.length,d=this.items,e=this.accum,f=this.receiver,g=this.callback,h=this.iterate;c>a;++a)if(e=b._cast(g.call(f,e,d[a],a,c),h,void 0),e instanceof b)return void e._then(this.fulfill,this.reject,void 0,this,a,h);this.promise._fulfill(e)},b.reduce=function(a,c,d){return k(a,c,d,!1,b.reduce)},b.prototype.reduce=function(a,b){return k(this,a,b,!0,this.reduce)}}},{"./assert.js":2}],31:[function(a,b){(function(c){"use strict";{var d,e=a("./global.js");a("./assert.js")}if("undefined"!=typeof c&&null!==c&&"function"==typeof c.cwd&&"function"==typeof c.nextTick)d=c.nextTick;else if("function"!=typeof MutationObserver&&"function"!=typeof WebkitMutationObserver&&"function"!=typeof WebKitMutationObserver||"undefined"==typeof document||"function"!=typeof document.createElement)if("function"==typeof e.postMessage&&"function"!=typeof e.importScripts&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener){var f="bluebird_message_key_"+Math.random();d=function(){function a(a){if(a.source===e&&a.data===f){var c=b;b=void 0,c()}}var b=void 0;return e.addEventListener("message",a,!1),function(a){b=a,e.postMessage(f,"*")}}()}else d="function"==typeof MessageChannel?function(){var a=void 0,b=new MessageChannel;return b.port1.onmessage=function(){var b=a;a=void 0,b()},function(c){a=c,b.port2.postMessage(null)}}():e.setTimeout?function(a){setTimeout(a,4)}:function(a){a()};else d=function(){var a=e.MutationObserver||e.WebkitMutationObserver||e.WebKitMutationObserver,b=document.createElement("div"),c=void 0,d=new a(function(){var a=c;c=void 0,a()});return d.observe(b,{attributes:!0}),function(a){c=a,b.setAttribute("class","foo")}}();b.exports=d}).call(this,a("/Users/fb/web/nib/node_modules/grunt-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./assert.js":2,"./global.js":16,"/Users/fb/web/nib/node_modules/grunt-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":41}],32:[function(a,b){"use strict";b.exports=function(b,c,d){function e(a,b,d){return c(a,f,d,b===!0&&a._isBound()?a._boundTo:void 0).promise()}var f=a("./settled_promise_array.js")(b,d);b.settle=function(a){return e(a,!1,b.settle)},b.prototype.settle=function(){return e(this,!0,this.settle)}}},{"./settled_promise_array.js":33}],33:[function(a,b){"use strict";b.exports=function(b,c){function d(a,b,c){this.constructor$(a,b,c)}var e=(a("./assert.js"),a("./promise_inspection.js")),f=a("./util.js"),g=f.inherits;return g(d,c),d.prototype._promiseResolved=function(a,b){this._values[a]=b;var c=++this._totalResolved;c>=this._length&&this._resolve(this._values)},d.prototype._promiseFulfilled=function(a,b){if(!this._isResolved()){var c=new e;c._bitField=268435456,c._settledValue=a,this._promiseResolved(b,c)}},d.prototype._promiseRejected=function(a,b){if(!this._isResolved()){var c=new e;c._bitField=134217728,c._settledValue=a,this._promiseResolved(b,c)}},d}},{"./assert.js":2,"./promise_inspection.js":22,"./util.js":39}],34:[function(a,b){"use strict";b.exports=function(b,c,d,e){function f(a,b,d,f){if((0|b)!==b||0>b)return e("expecting a positive integer");var h=c(a,g,f,d===!0&&a._isBound()?a._boundTo:void 0),i=h.promise();return i.isRejected()?i:(h.setHowMany(b),h.init(),i)}{var g=a("./some_promise_array.js")(d);a("./assert.js")}b.some=function(a,c){return f(a,c,!1,b.some)},b.prototype.some=function(a){return f(this,a,!0,this.some)}}},{"./assert.js":2,"./some_promise_array.js":35}],35:[function(a,b){"use strict";b.exports=function(b){function c(a,b,c){this.constructor$(a,b,c),this._howMany=0,this._unwrap=!1,this._initialized=!1}var d=a("./util.js"),e=a("./errors.js").RangeError,f=d.inherits,g=d.isArray;return f(c,b),c.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-2);var a=g(this._values);if(this._holes=a?this._values.length-this.length():0,!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()){var b="(Promise.some) input array contains less than "+this._howMany+" promises";this._reject(new e(b))}}},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(a){this._isResolved()||(this._howMany=a)},c.prototype._promiseFulfilled=function(a){this._isResolved()||(this._addFulfilled(a),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values)))},c.prototype._promiseRejected=function(a){this._isResolved()||(this._addRejected(a),this.howMany()>this._canPossiblyFulfill()&&this._reject(this._values.length===this.length()?[]:this._values.slice(this.length()+this._holes)))},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()-this._holes},c.prototype._addRejected=function(a){this._values.push(a)},c.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c}},{"./errors.js":10,"./util.js":39}],36:[function(a,b){"use strict";b.exports=function(b){var c=a("./promise_inspection.js");b.prototype.inspect=function(){return new c(this)}}},{"./promise_inspection.js":22}],37:[function(a,b){"use strict";b.exports=function(b){function c(a){try{return a.then}catch(b){return g.e=b,g}}function d(a,f,i){if(h(a)){if(a instanceof b)return a;var j=c(a);if(j===g)return f="function"==typeof f?f:d,void 0!==i&&i._attachExtraTrace(j.e),b.reject(j.e,f);if("function"==typeof j)return f="function"==typeof f?f:d,e(a,j,f,i)}return a}function e(a,c,d,e){function f(c){if(!k){if(k=!0,a===c){var d=b._makeSelfResolutionError();return void 0!==e&&e._attachExtraTrace(d),void j.promise._reject(d)}j.resolve(c)}}function h(a){k||(k=!0,void 0!==e&&e._attachExtraTrace(a),j.promise._attachExtraTrace(a),j.promise._reject(a))}var j=b.defer(d),k=!1,l=i(c,a,f,h);return l!==g||k||(k=!0,void 0!==e&&e._attachExtraTrace(l.e),j.promise._reject(l.e)),j.promise}var f=(a("./assert.js"),a("./util.js")),g=f.errorObj,h=f.isObject,i=f.tryCatch2;b._cast=d}},{"./assert.js":2,"./util.js":39}],38:[function(a,b){"use strict";var c=a("./global.js"),d=function(a,b){for(var d=arguments.length,e=new Array(d-2),f=2;d>f;++f)e[f-2]=arguments[f];c.setTimeout(function(){a.apply(void 0,e)},b)},e={};c.setTimeout(function(a){a===e&&(d=c.setTimeout)},1,e),b.exports=function(b,c){var e=(a("./util.js"),a("./assert.js"),a("./errors.js")),f=(a("./errors_api_rejection")(b),b.TimeoutError),g=function(a,b,c){if(a.isPending()){"string"!=typeof b&&(b="operation timed out after "+c+" ms");var d=new f(b);e.markAsOriginatingFromRejection(d),a._attachExtraTrace(d),a._rejectUnchecked(d)}},h=function(a,b){b._fulfill(a)};b.delay=function(a,e,f){void 0===e&&(e=a,a=void 0),e=+e,"function"!=typeof f&&(f=b.delay);var g=b._cast(a,f,void 0),i=new b(c);return b.is(g)?(g._isBound()&&i._setBoundTo(g._boundTo),g._cancellable()&&(i._setCancellable(),i._cancellationParent=g),i._setTrace(f,g),i._follow(g),i.then(function(a){return b.delay(a,e)})):(i._setTrace(f,void 0),d(h,e,a,i),i)},b.prototype.delay=function(a){return b.delay(this,a,this.delay)},b.prototype.timeout=function(a,e){a=+a;var f=new b(c);return f._setTrace(this.timeout,this),this._isBound()&&f._setBoundTo(this._boundTo),this._cancellable()&&(f._setCancellable(),f._cancellationParent=this),f._follow(this),d(g,a,f,e,a),f}}},{"./assert.js":2,"./errors.js":10,"./errors_api_rejection":11,"./global.js":16,"./util.js":39}],39:[function(a,b){"use strict";function c(a){"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("Bluebird: "+a)}function d(a,b,c){try{return a.call(b,c)}catch(d){return s.e=d,s}}function e(a,b,c,d){try{return a.call(b,c,d)}catch(e){return s.e=e,s}}function f(a,b,c){try{return a.apply(c,b)}catch(d){return s.e=d,s}}function g(a){return"string"==typeof a?a:""+a}function h(a){return null==a||a===!0||a===!1||"string"==typeof a||"number"==typeof a}function i(a){return!h(a)}function j(a){return h(a)?new Error(g(a)):a}function k(a,b){var c,d=a.length,e=new Array(d+1);for(c=0;d>c;++c)e[c]=a[c];return e[c]=b,e}function l(a,b,c){var d={value:c,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(a,b,d),a}function m(a){throw a}var n=a("./global.js"),o=(a("./assert.js"),a("./es5.js")),p=function(){try{var a={};return o.defineProperty(a,"f",{get:function(){return 3}}),3===a.f}catch(b){return!1}}(),q=function(a,b,c){try{return l(a,b,c),a}catch(d){for(var e={},f=o.keys(a),g=0,h=f.length;h>g;++g)try{var i=f[g];e[i]=a[i]}catch(j){e[i]=j}return l(e,b,c),e}},r=function(){return"undefined"!=typeof window&&null!==window&&"undefined"!=typeof window.document&&"undefined"!=typeof navigator&&null!==navigator&&"string"==typeof navigator.appName&&window===n?!1:!0}(),s={e:{}},t=function(a,b){function c(){this.constructor=a,this.constructor$=b;for(var c in b.prototype)d.call(b.prototype,c)&&"$"!==c.charAt(c.length-1)&&(this[c+"$"]=b.prototype[c])}var d={}.hasOwnProperty;return c.prototype=b.prototype,a.prototype=new c,a.prototype},u=function(){return"string"!==this}.call("string"),v={thrower:m,isArray:o.isArray,haveGetters:p,notEnumerableProp:l,isPrimitive:h,isObject:i,ensurePropertyExpansion:q,canEvaluate:r,deprecated:c,errorObj:s,tryCatch1:d,tryCatch2:e,tryCatchApply:f,inherits:t,withAppended:k,asString:g,maybeWrapAsError:j,wrapsPrimitiveReceiver:u};b.exports=v},{"./assert.js":2,"./es5.js":12,"./global.js":16}],40:[function(a,b){!function(a,c){"undefined"!=typeof b?b.exports=c():"function"==typeof define&&"object"==typeof define.amd?define(c):this[a]=c()}("domready",function(a){function b(a){for(n=1;a=d.shift();)a()}var c,d=[],e=!1,f=document,g=f.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",l="readyState",m=h?/^loaded|^c/:/^loaded|c/,n=m.test(f[l]);return f[j]&&f[j](i,c=function(){f.removeEventListener(i,c,e),b()},e),h&&f.attachEvent(k,c=function(){/^c/.test(f[l])&&(f.detachEvent(k,c),b())}),a=h?function(b){self!=top?n?b():d.push(b):function(){try{g.doScroll("left")}catch(c){return setTimeout(function(){a(b)},50)}b()}()}:function(a){n?a():d.push(a)}})},{}],41:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],api:[function(a,b){b.exports=a("zLP7L+")},{}],"zLP7L+":[function(a,b){!function(){"use strict";function c(a){return new d(function(b,c){var d=new XMLHttpRequest;d.addEventListener("error",c),d.addEventListener("load",function(){b(d.responseText)}),d.open("GET",a),d.send(null)})}var d=a("bluebird"),e=[],f={},g=[],h=[],i=c("bin/data.json").then(JSON.parse).then(function(a){return e=a}).then(function(a){for(var b=0;b<a.length;b++){var c=a[b];f[c.name.toLowerCase()]=c,g.push(c.name.toLowerCase()),-1===h.indexOf(c.category)&&h.push(c.category)}return a}).catch(function(a){throw console.error(a),a}),j=function(a){return a},k={getNames:function(a){return g.filter(a||j)},getItem:function(a){return f[a.toLowerCase()]},getItems:function(){return e},load:function(){return i},getCategories:function(){return h}};"undefined"==typeof b?window.api=k:b.exports=k}()},{bluebird:4}],44:[function(a,b){var c=React.createClass({displayName:"DownloadLink",componentDidMount:function(a){this.props.download&&(a.download=this.props.download)},componentDidUpdate:function(a,b,c){c.download=this.props.download},render:function(){return this.transferPropsTo(React.DOM.a(null,this.props.children))}});b.exports=c},{}],45:[function(a,b){function c(a){function b(a){return"Array"===Object.prototype.toString.call(a).slice(8,-1)}function c(a){return a=Array.prototype.concat.apply([],a),a.some(b)?c(a):a}function d(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]),d<b.length&&c.push(b[d]);return c}for(var e=[{name:"comment",exp:/\/\/.+/g},{name:"regexp",exp:/\/(?!\s)(?:\\\/|[^\/])*\/[gim]{0,3}/g},{name:"string",exp:/(["'])(\\\1|[^\1])*?\1/g},{name:"fn",exp:/\b(?!function)[$_A-Za-z][$_A-Za-z0-9]+(?=\()/g},{name:"keyword",exp:/\b(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|this|throw|try|typeof|var|void|while|with)\b/g},{name:"number",exp:/\b(?:0x)?(?=\d|\.\d)[0-9]*(?:\.[0-9]*)?(?:[eE][0-9]+)?\b/g},{name:"op",exp:/[=\-+*\(\)\/^!%~,;?:.|<>{}\[\]&]+/g}],f=[a],g=0;g<e.length;g++){var h=e[g];f=c(f.map(function(a){if("string"==typeof a){var b=a.match(h.exp),c=a.split(h.exp);if("string"===h.name)for(var e=c.length/4,f=0;e>f;f++)c.splice(f+1,2);if(b)return d(c,b.map(function(a){return{name:h.name,text:a}}))}return a}))}return f}var d=React.createClass({displayName:"JavaScript",render:function(){var a=function(a){return function(b){return React.DOM.span({className:a},b)}},b=this.props.classes||{},d={fn:a(b.fn||"js-fn"),string:a(b.string||"js-string"),number:a(b.number||"js-number"),comment:a(b.comment||"js-comment"),keyword:a(b.keyword||"js-keyword"),op:a(b.op||"js-op"),regexp:a(b.op||"js-regexp")},e=c(this.props.code),f=function(a){return"string"==typeof a?a.length?React.DOM.span(null,a):!1:null==d[a.name]?React.DOM.span(null,a.text):d[a.name](a.text)};return React.DOM.pre({className:this.props.className||""},e.map(f))}});b.exports=d},{}],46:[function(a){var b=a("domready"),c=a("api");b(function(){var b=a("./jsx/application.jsx"),d=b(null);React.renderComponent(d,document.getElementById("application")),router=(new Router).init(),router.param("name",/([A-Za-z$_][A-Za-z$_0-9]*)/i),router.on("/",d.showHome),router.on("/x/:category/:name",d.showOne),router.on("/x/:category",d.showAll),router.on("/all",d.showAll),router.on("/categories",d.showCategories),router.on("/download",d.showDownload),c.load().then(function(){d.isReady(function(){router.dispatch("on","/"+router.getRoute().join("/"))})})})},{"./jsx/application.jsx":47,api:"zLP7L+",domready:40}],47:[function(a,b){function c(a){return Object.prototype.toString.call(a).slice(8,-1)}var d=a("./nav.jsx"),e=a("./home.jsx"),f=a("./listing.jsx"),g=a("./item.jsx"),h=a("./categories.jsx"),i=a("./bundle/bundle.jsx"),j=a("./download.jsx"),k=a("api"),l=(a("./bundle/bundleStore"),React.createClass({displayName:"Application",getInitialState:function(){return{component:"Home",ready:!1}},isReady:function(a){this.setState({ready:!0},a)},showHome:function(){this.setState({component:"Home",item:null,items:null})},showOne:function(a,b){var c=k.getItem(b);this.assert(c)&&this.setState({component:"Item",item:c,items:null})},showCategories:function(){this.setState({component:"Categories",items:k.getCategories()})},showAll:function(a){var b=k.getItems();a&&(b=b.filter(function(b){return b.category.toLowerCase()===a})),this.assert(b)&&this.setState({component:"Listing",items:b,item:null})},showDownload:function(){this.setState({component:"Download"})},assert:function(a){var b=c(a);return console.log(b,a),a?"Array"!==b&&"String"!==b||0!==a.length?0===Object.keys(a).length?this.show404():!0:this.show404():this.show404()},show404:function(){this.setState({component:"404"})},render:function(){var a=this,b=function(){return"Home"===a.state.component?e(null):"Listing"===a.state.component?(console.log("is listing"),f({items:a.state.items})):"Item"===a.state.component?g({data:a.state.item}):"Categories"===a.state.component?h({items:a.state.items}):"Download"===a.state.component?j({items:this.refs.bundle.state.items}):React.DOM.h1(null,"Page could not be found.  Try one of the menu items above.")},c=function(){return j(null)},k=function(){return[React.DOM.div({className:"small-9 columns"},this.state.ready?b():React.DOM.h3(null,"Loading...")),React.DOM.div({className:"small-3 columns"},i({item:"Item"===a.state.component?this.state.item:null}))]}.bind(this);return React.DOM.div(null,React.DOM.h2(null,"JS Nibbles"),d(null),React.DOM.div({className:"row"},"Download"===this.state.component?c():k()))}}));b.exports=l},{"./bundle/bundle.jsx":48,"./bundle/bundleStore":49,"./categories.jsx":50,"./download.jsx":51,"./home.jsx":52,"./item.jsx":53,"./listing.jsx":54,"./nav.jsx":55,api:"zLP7L+"}],48:[function(a,b){var c=a("./bundleStore"),d=React.createClass({displayName:"Bundle",getInitialState:function(){return{items:c.get()}
},componentDidMount:function(){this.change()},toggleItem:function(a){var b=this.state.items,d=b.reduce(function(b,c){return c.name===a.name?c:b},!1);if(d===!1)b.push(a);else{var e=b.indexOf(d);b.splice(e,1)}c.set(b),this.setState({items:b},this.change)},change:function(){this.props.onChange&&this.props.onChange(this.state.items)},toggleCurrentItem:function(){this.toggleItem(this.props.item)},download:function(){window.location="#/download"},render:function(){var a=this,b=this.state.items,c=function(b){return React.DOM.li({className:"row"},React.DOM.div({className:"small-9 column f-mono"},React.DOM.h4(null,b.name,":",b.category)),React.DOM.div({className:"small-3 column f-mono"},React.DOM.h2({className:"f-mono",onClick:a.toggleItem.bind(a,b)},"")))};return React.DOM.div(null,React.DOM.div({className:"nib-bundle"},React.DOM.h3(null,"Bundle"),React.DOM.ul(null,this.state.items.map(c))),this.props.item&&React.DOM.button({onClick:this.toggleCurrentItem},"Add Current Item"),b&&b.length&&React.DOM.button({onClick:this.download},"Download JS")||!1)}});b.exports=d},{"./bundleStore":49}],49:[function(a,b){var c="nib_bundleStore_1",d=a("api");b.exports={get:function(){var a=localStorage[c];try{return JSON.parse(a)||[]}catch(b){return[]}},set:function(a){localStorage[c]=JSON.stringify(a.map(function(a){return{name:a.name,category:a.category}}))},getJS:function(a){a=a.map(function(a){return d.getItem(a.name)});var b="/** Built on http://nib.ijk.io - license is MIT */\nvar nib = (function(){\nvar exports = nib || {};\n",c="\nreturn exports;\n})();\n\ntypeof module === 'object' && (module.exports = nib);",e=a.map(function(a){return a.function.trim()+"\nexports."+a.name+" = "+a.name+";"}).join("\n\n");return b+e+c}}},{api:"zLP7L+"}],50:[function(a,b){var c=React.createClass({displayName:"Categories",getInitialState:function(){return{}},render:function(){for(var a=this.props.items,b=[],c=[],d=0;d<a.length;d++)d%3===0&&(c=[],b.push(c)),c[d%3]=a[d];var e=function(a){return React.DOM.div({className:"row"},a.map(f))},f=function(a){return React.DOM.h2({className:"small-6 large-4 columns"},React.DOM.a({href:"#/x/"+a,className:""},a))};return React.DOM.div(null,b.map(e))}});b.exports=c},{}],51:[function(a,b){var c=a("./bundle/bundleStore"),d=a("./bundle/bundle.jsx"),e=a("../common/javascript.jsx"),f=a("../common/download-link.jsx"),g=React.createClass({displayName:"Download",getInitialState:function(){return{code:""}},getHref:function(){var a=new Blob([this.state.code],{type:"application/javascript"}),b=URL.createObjectURL||URL.webkitCreateObjectURL,c=b(a);return this.clearPreviousURL=function(){var a=URL.revokeObjectURL||URL.webkitRevokeObjectURL;c&&a(c),c=null},c},clearPreviousURL:function(){},componentWillUnmount:function(){this.clearPreviousURL()},update:function(a){this.setState({code:c.getJS(a)})},render:function(){return React.DOM.div(null,React.DOM.div({className:"small-9 columns"},f({href:this.getHref(this.state.code),className:"fluid button",download:"nib.js"},"Save Bundle to File"),e({code:this.state.code,className:"js-pre"})),React.DOM.div({className:"small-3 columns"},d({onChange:this.update})))}});b.exports=g},{"../common/download-link.jsx":44,"../common/javascript.jsx":45,"./bundle/bundle.jsx":48,"./bundle/bundleStore":49}],52:[function(a,b){var c=React.createClass({displayName:"Home",getInitialState:function(){return{}},render:function(){var a=function(a){var b={All:"#/all",Categories:"#/categories","GitHub repo":"http://github.com/brigand/nib"};return React.DOM.a({href:b[a]},a)};return React.DOM.div(null,React.DOM.h2(null,"How to use this site"),React.DOM.ul(null,React.DOM.li(null,"Click ",a("All")," or ",a("Categories")," to find some snippets"),React.DOM.li(null,"Add them to your Bundle (on the right)"),React.DOM.li(null,"Click the download button, and either ",React.DOM.span({className:"f-mono"},"require")," the module, or include it with a ",React.DOM.span({className:"f-mono"},"<script>")," tag")),React.DOM.hr(null),React.DOM.h2(null,"Contribute"),React.DOM.div(null,"Go to the ",a("GitHub repo")," if you want to help out. Everything is explained in the README.  New code, bug reports, etc. are all helpful!"),React.DOM.hr(null),React.DOM.h2(null,"Legal"),React.DOM.div(null,"All code is MIT licensed, so you can use it for any purpose, including commercial. If you keep the comment at the top of the downloaded file intact, you are all set!"))}});b.exports=c},{}],53:[function(a,b){var c=a("../common/javascript.jsx"),d=React.createClass({displayName:"Item",render:function(){var a=function(a){return React.DOM.div(null,React.DOM.h1({className:"f-mono"},React.DOM.span({className:"c-pink"},a.data.name),React.DOM.span(null," - "),React.DOM.span({className:"smaller"},a.data.description)),React.DOM.hr(null),React.DOM.h2(null,"The Code"),React.DOM.pre({className:"c-blue"},a.data.types),c({code:a.data.function,className:"js-pre"}),React.DOM.h2(null,"Examples"),c({code:a.data.examples,className:"js-pre"}))};return console.log(this.props.data),this.props.data?a(this.props):React.DOM.h1(null,"Loading")}});b.exports=d},{"../common/javascript.jsx":45}],54:[function(a,b){var c=React.createClass({displayName:"Listing",getInitialState:function(){return{filterText:""}},filter:function(a){var b=this.state.filterText;return-1!==a.name.toLowerCase().indexOf(b)||-1!==a.description.indexOf(b)||-1!==a.function.indexOf(b)||-1!==a.examples.indexOf(b)},sort:function(a,b){var c=this.state.filterText,d=function(a){return 100*(-1!==a.name.toLowerCase().indexOf(c))+10*(-1!==a.description.indexOf(c))+2*(-1!==a.function.indexOf(c))+1*(-1!==a.examples.indexOf(c))};return d(b)-d(a)},filterChanged:function(a){this.setState({filterText:a.target.value})},render:function(){function a(a){return a}var b=function(a){return React.DOM.a({className:"panel",href:"#/x/"+a.category+"/"+a.name.toLowerCase()},React.DOM.h3({className:"f-mono"},React.DOM.span({className:"c-pink"},a.name)," - ",React.DOM.span({className:"smaller"},a.types)),React.DOM.p(null,a.description))};return React.DOM.div(null,React.DOM.input({value:this.state.filterText,onChange:this.filterChanged,type:"text",placeholder:"filter",autoFocus:!0}),this.props.items.filter(this.filter).map(a).sort(this.sort).map(b))}});b.exports=c},{}],55:[function(a,b){var c=React.createClass({displayName:"Nav",getInitialState:function(){var a=function(a,b){return{name:a,route:b,key:a}};return{pages:[a("Home",""),a("All","all"),a("Categories","categories")]}},render:function(){var a=function(a){return React.DOM.li(null,React.DOM.a({href:"#/"+a.route},a.name))};return React.DOM.nav({className:"top-bar"},React.DOM.section({className:"top-bar-section"},React.DOM.ul({className:"left"},this.state.pages.map(a))))}});b.exports=c},{}]},{},[46]);